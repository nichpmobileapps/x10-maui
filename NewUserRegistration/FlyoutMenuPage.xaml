<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="X10Card.NewUserRegistration.FlyoutMenuPage"
             IconImageSource="hamburger.png"
             Title="Menu">

    <Grid RowDefinitions="Auto, *, Auto" Margin="10" RowSpacing="10">

        <!-- Header Section -->
        <VerticalStackLayout Grid.Row="0" HorizontalOptions="Fill" Spacing="10">
            
            <!-- User Image -->
            <Frame BackgroundColor="Transparent" 
                   BorderColor="#078ff0" 
                   CornerRadius="50"
                   HeightRequest="100"
                   WidthRequest="100"
                   HorizontalOptions="Center"
                   Padding="2">
                <Image Source="ic_usericon.png"
                       x:Name="candidateimage"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       Aspect="AspectFill" />
            </Frame>

            <!-- Welcome Message -->
            <StackLayout HorizontalOptions="Center" Spacing="2">
                <!--<Label Text="Welcome" 
                       FontSize="16" 
                       TextColor="#078ff0" 
                       HorizontalOptions="Center" />-->
                <!--<Label x:Name="lbl_username" 
                       Text="User"
                       FontSize="18" 
                       TextColor="#078ff0" 
                       FontAttributes="Bold" 
                       HorizontalOptions="Center" />-->

                <Label  FontSize="18" TextColor="Black" FontAttributes="Bold" VerticalOptions="Center" HorizontalOptions="CenterAndExpand">
                    <Label.FormattedText>
                        <FormattedString>
                            <FormattedString.Spans>

                               
                                <Span Text="Welcome " TextColor="#078ff0"/>

                                <Span x:Name="lbl_username" TextColor="#078ff0" />
                            </FormattedString.Spans>
                        </FormattedString>
                    </Label.FormattedText>
                </Label>
            </StackLayout>
               
            <Label Text="Registration Details" 
                   FontSize="20" 
                   TextColor="#078ff0" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center" />
                   
            <BoxView HeightRequest="2" BackgroundColor="#078ff0"/>

        </VerticalStackLayout>

        <!-- Menu Items Section -->
        <CollectionView Grid.Row="1" 
                        x:Name="collectionViewFlyout" 
                        x:FieldModifier="public" 
                        SelectionMode="Single"
                        BackgroundColor="Transparent">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid Padding="5,10" BackgroundColor="Transparent">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Image Source="{Binding MenuIcon}" 
                               Grid.Column="0"
                               HeightRequest="24"
                               WidthRequest="24"
                               VerticalOptions="Center" />

                        <Label Grid.Column="1"
                               Margin="15,0,0,0"
                               Text="{Binding Title}"
                               FontSize="16"
                               TextColor="{Binding Textcolor}"
                               FontAttributes="Bold"
                               VerticalOptions="Center" />
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Footer Section -->
        <VerticalStackLayout Grid.Row="2" Spacing="5">
            <BoxView HeightRequest="2" BackgroundColor="#078ff0"/>
            
            <Label x:Name="lbl_finalsubmit"
                   IsVisible="false"
                   Text="Final Submit button will be visible once Personal and Contact details are submitted"
                   TextColor="Red"
                   FontSize="12"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center" />
                   
            <Label Text="Last Updated" 
                   TextColor="Black" 
                   FontAttributes="Bold" 
                   FontSize="14"
                   HorizontalOptions="Center" />
                   
            <Label x:Name="lbl_lastupdate"
                   Text="Today"
                   TextColor="Black" 
                   FontSize="12"
                   HorizontalOptions="Center" />
        </VerticalStackLayout>

    </Grid>
</ContentPage>