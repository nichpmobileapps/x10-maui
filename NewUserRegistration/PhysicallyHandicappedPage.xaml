<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="X10Card.NewUserRegistration.PhysicallyHandicappedPage"
             Title="PhysicallyHandicappedPage">

    <NavigationPage.TitleView>
        <Grid ColumnDefinitions="Auto,*" VerticalOptions="Center">
            <Image Source="ic_himachallogo.png" HeightRequest="40" VerticalOptions="Center"/>
            <Label Text="X10 (Registration Card)"
                   Grid.Column="1"
                   FontSize="18"
                   TextColor="White"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"/>
        </Grid>
    </NavigationPage.TitleView>

    <ContentPage.ToolbarItems>
        <ToolbarItem IconImageSource="ic_home.png" Clicked="ToolbarItem_Clicked"/>
    </ContentPage.ToolbarItems>

    <Grid RowDefinitions="*,Auto">

        <ScrollView Grid.Row="0" Margin="9">
            <StackLayout>

                <Button x:Name="btn_header" CornerRadius="10" Text="Physically Handicapped Details" 
                        HorizontalOptions="Fill" TextColor="White" BackgroundColor="Navy" 
                        FontSize="16" FontAttributes="Bold"/>

                <Border StrokeShape="RoundRectangle 10" Stroke="#058ef2" Padding="10" Margin="0,10">
                    <StackLayout>

                        <ListView x:Name="listview_PhysicallyHandicapped" 
                                  HasUnevenRows="True" SeparatorColor="#126b8a" SelectionMode="None">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <ViewCell>

                                        <Border Margin="5" StrokeShape="RoundRectangle 20" BackgroundColor="White" Stroke="#0072b6">
                                            <StackLayout Orientation="Vertical">

                                                <Label FontSize="16" Text="PH Type" TextColor="Navy" FontAttributes="Bold"/>
                                                <Label FontSize="16" Text="{Binding PHTypeNm}" TextColor="Maroon"/>

                                                <Label FontSize="16" Text="Percentage" TextColor="Navy" FontAttributes="Bold"/>
                                                <Label FontSize="16" Text="{Binding Percentage}" TextColor="Maroon"/>

                                                <Label FontSize="16" Text="Issue Date" TextColor="Navy" FontAttributes="Bold"/>
                                                <Label FontSize="16" Text="{Binding issuedt}" TextColor="Maroon"/>

                                                <Label FontSize="16" Text="Valid Upto Date" TextColor="Navy" FontAttributes="Bold"/>
                                                <Label FontSize="16" Text="{Binding validuptodt}" TextColor="Maroon"/>

                                                <Label FontSize="16" Text="Certificate No." TextColor="Navy" FontAttributes="Bold"/>
                                                <Label FontSize="16" Text="{Binding DocCertNo}" TextColor="Maroon"/>

                                                <Label FontSize="16" Text="Status" TextColor="Navy" FontAttributes="Bold"/>
                                                <Label FontSize="16" Text="{Binding StatusDesc}" TextColor="Maroon"/>

                                                <StackLayout Orientation="Horizontal">
                                                    <ImageButton IsVisible="{Binding imgeditdeletevisibility}" x:Name="img_edit" CommandParameter="{Binding PHType}" Clicked="img_edit_Clicked" HorizontalOptions="Center" Source="ic_edit" BackgroundColor="Transparent" HeightRequest="35"/>
                                                    <ImageButton IsVisible="{Binding imgeditdeletevisibility}" x:Name="img_delete" CommandParameter="{Binding PHType}" Clicked="img_delete_Clicked" HorizontalOptions="Center" Source="ic_delete" BackgroundColor="Transparent" HeightRequest="35"/>
                                                    <ImageButton IsVisible="{Binding pdfimgvisibility}" x:Name="img_pdf" CommandParameter="{Binding PHType}" Clicked="img_pdf_Clicked" HorizontalOptions="Center" Source="ic_viewpdf.png" BackgroundColor="Transparent" HeightRequest="35"/>
                                                </StackLayout>
                                            </StackLayout>
                                        </Border>
                                    </ViewCell>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>

                        <Button CornerRadius="10" x:Name="btn_AddPhysicallyHandicapped" Text="+ Add Physically Handicapped Details" 
                                HorizontalOptions="Center" 
                               FontSize="16" FontAttributes="Bold" 
                                Clicked="btn_AddPhysicallyHandicapped_Clicked"/>
                    </StackLayout>
                </Border>
            </StackLayout>
        </ScrollView>

        <StackLayout Grid.Row="1" Orientation="Horizontal" HorizontalOptions="Fill" Margin="9, 0, 9, 0">
            <Button IsVisible="false" x:Name="btn_cancel" FontSize="18" Text="Cancel" Margin="0,10,0,10"  CornerRadius="15" HorizontalOptions="Fill" Clicked="btn_cancel_Clicked" Padding="10"/>
            <Button IsVisible="false" x:Name="btn_next" FontSize="20" Text="Next" Margin="0,10,0,10" BackgroundColor="#058ef2" TextColor="White" CornerRadius="15" HorizontalOptions="Fill" Clicked="btn_next_Clicked" Padding="10" FontAttributes="Bold"/>
            <Button IsVisible="false" x:Name="btn_submit" FontSize="20" Text="Save &amp; Next" Margin="0,10,0,10" BackgroundColor="#058ef2" TextColor="White" CornerRadius="15" HorizontalOptions="Fill" Clicked="btn_submit_Clicked" Padding="10" FontAttributes="Bold"/>
        </StackLayout>

        <ContentView x:Name="popupaddPhysicallyHandicapped" BackgroundColor="#C0808080" Padding="10" IsVisible="false" AbsoluteLayout.LayoutBounds="0, 0, 1, 1" AbsoluteLayout.LayoutFlags="All">
            <StackLayout HorizontalOptions="Fill" VerticalOptions="Center" BackgroundColor="white" Padding="10">
                <Label  Text="Add Physically Handicapped Detail" Padding="6" HorizontalTextAlignment="Center" VerticalTextAlignment="Center" FontSize="16" FontAttributes="Bold"/>
                <Label Text="*Fields marked are mandatory" HorizontalOptions="Center" HorizontalTextAlignment="Center" TextColor="Navy" FontSize="14"/>

                <ScrollView VerticalOptions="Fill">
                    <StackLayout Orientation="Vertical">
                        <Label Text="SELECT PH TYPE *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                        <Picker TextColor="Black" TitleColor="Black" Title="SELECT PH TYPE" x:Name="picker_PHTYPE" SelectedIndexChanged="picker_PHTYPE_SelectedIndexChanged"/>

                        <Label Text="ENTER PERCENTAGE *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                        <Entry x:Name="entry_PERCENTAGE" MaxLength="3" Keyboard="Numeric" Placeholder="ENTER PERCENTAGE" TextColor="Black" FontSize="16"/>

                        <Label Text="SELECT REGISTRATION DATE *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                        <StackLayout HorizontalOptions="Fill">
                            <Entry TextColor="Black" PlaceholderColor="Black" HorizontalOptions="Fill" FontSize="16" Placeholder="Select Registration Date" x:Name="Entry_RegistrationDate" Focused="Entry_RegistrationDate_Focused"/>
                            <DatePicker x:Name="datepicker_RegistrationDate" IsVisible="false" Format="dd/MM/yyyy" DateSelected="datepicker_RegistrationDate_DateSelected" HorizontalOptions="Fill"/>
                        </StackLayout>

                        <Label Text="PH TYPE Document Details" BackgroundColor="Navy" TextColor="White" Padding="5" FontSize="16" FontAttributes="Bold" HorizontalOptions="Center" HorizontalTextAlignment="Center"/>

                        <Border Stroke="#058ef2" StrokeShape="RoundRectangle 20" Padding="10" Margin="0,10">
                            <StackLayout>
                                <Label Text="SELECT ISSUE DATE *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                                <StackLayout HorizontalOptions="Fill">
                                    <Entry TextColor="Black" PlaceholderColor="Black" HorizontalOptions="Fill" FontSize="16" Placeholder="SELECT ISSUE DATE" x:Name="Entry_issuedate" Focused="Entry_issuedate_Focused"/>
                                    <DatePicker x:Name="datepicker_issuedate" IsVisible="false" Format="dd/MM/yyyy" DateSelected="datepicker_issuedate_DateSelected" HorizontalOptions="Fill"/>
                                </StackLayout>

                                <Label Text="SELECT VALID UPTO DATE *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                                <StackLayout HorizontalOptions="Fill">
                                    <Entry TextColor="Black" PlaceholderColor="Black" HorizontalOptions="Fill" FontSize="16" Placeholder="SELECT VALID UPTO DATE" x:Name="Entry_validuptodate" Focused="Entry_validuptodate_Focused"/>
                                    <DatePicker x:Name="datepicker_validupto" IsVisible="false" Format="dd/MM/yyyy" DateSelected="datepicker_validupto_DateSelected" HorizontalOptions="Fill"/>
                                </StackLayout>

                                <Label Text="ENTER CERTIFICATE NO *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                                <Entry x:Name="entry_certificateno" Placeholder="ENTER CERTIFICATE NO" TextColor="Black" FontSize="16"/>

                                <Label Text="ENTER REMARKS *" TextColor="Navy" FontSize="16" FontAttributes="Bold"/>
                                <Entry x:Name="entry_REMARKS" Placeholder="ENTER REMARKS" TextColor="Black" FontSize="16"/>

                                <StackLayout Orientation="Horizontal">
                                    <Label x:Name="lbl_doc1" Text="DOCUMENT" TextColor="Navy" FontSize="16" HorizontalOptions="Fill" VerticalTextAlignment="Center" FontAttributes="Bold" Padding="5"/>
                                    <Label x:Name="lbl_pdf1" IsVisible="false" Text="PDF Uploaded Successfully" VerticalTextAlignment="Center"/>
                                    <Button x:Name="btn_uploaddoc1" Text="Choose File..." Clicked="btn_uploaddoc1_Clicked"/>
                                    <ImageButton IsVisible="false" x:Name="img_pdfedit" Clicked="img_pdfedit_Clicked" HorizontalOptions="Center" Source="ic_viewpdf.png" BackgroundColor="Transparent" HeightRequest="35"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>
                    </StackLayout>
                </ScrollView>

                <Grid HorizontalOptions="Fill" ColumnSpacing="10" ColumnDefinitions="*,*">
                    <Button Grid.Column="0"  x:Name="btn_popupPhysicallyHandicappedcancel" FontSize="18" Text="Cancel" Margin="0,10" CornerRadius="15" Clicked="btn_popupPhysicallyHandicappedcancel_Clicked" Padding="10"/>
                    <Button Grid.Column="1" BackgroundColor="#058ef2" TextColor="White" x:Name="btn_popupPhysicallyHandicappedsubmit" FontSize="20" Text="Save" Margin="0,10" CornerRadius="15" Clicked="btn_popupPhysicallyHandicappedsubmit_Clicked" Padding="10" FontAttributes="Bold"/>
                </Grid>
            </StackLayout>
        </ContentView>

        <ContentView x:Name="Loading_activity"
   BackgroundColor="#C0808080"
   Padding="20"
   IsVisible="False"
   AbsoluteLayout.LayoutBounds="0,0,1,1"
   AbsoluteLayout.LayoutFlags="All">
            <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center">
                <Border Stroke="Transparent" BackgroundColor="White" Padding="10">
                    <HorizontalStackLayout Spacing="10">
                        <ActivityIndicator IsRunning="True" IsVisible="True"/>
                        <Label x:Name="lbl_PleaseWait"
             Text="Please Wait ..."
             TextColor="Black"
             FontAttributes="Bold"
             VerticalTextAlignment="Center" />
                    </HorizontalStackLayout>
                </Border>
            </VerticalStackLayout>
        </ContentView>
    </Grid>
</ContentPage>